> 如何支持数据库的执行引擎来对页面的数据进行读写？梁总常用的数据结构：哈希表和树
> 

这节课主要针对访问数据的方法进行相关介绍

**哈希表：实现了拥有键值对的无序的关联数组，使用哈希函数来计算能够索引到数组里相关键的偏移量，从而找到对应的值**

空间复杂度：O(n)

时间复杂度：O(1) （平均情况） O(n) （最坏的情况）

哈希表需要关注的两大重点：

1. 哈希函数：
    
    →如何将大范围的键映射到小范围的空间
    
    →在追求速度和碰撞率之间的平衡
    
2. 哈希策略：
    
    →如何处理散列之后的键碰撞
    
    →在分配一个大的哈希表和额外添加的指令来寻找或者插入键之间的权衡
    

这节课主要关注的重点：

**哈希函数**

**静态哈希策略**

**动态哈希策略**

**哈希函数**

→对于数据库不应该使用密码方向的哈希函数

→应该使用快速并且有着比较低的碰撞率的哈希函数

**静态哈希策略**

1. 线性探测散列：有着单个巨大插槽表
    
    在表中线性探测下一个空闲的插槽来避免碰撞，有以下两种常用的方法：
    
    1. 设置墓碑值
    2. 移动键值对
    
    **不唯一的键：一个键可以与多个值进行映射，有以下两种方法：**
    
    1. 分割链表
    2. 冗余键
    
    ![image1](/image/lecture6/1.png)
    
2. 罗宾汉散列：线性探测散列的一个变式，通过从富有的键那里偷取插槽来给贫穷的键
    
    →每个键跟踪表里合适的位置的个数
    
    →当插入的时候，如果一个键比另一个键离合适的位置更远，那么前者会拿去后者的插槽
    
3. 布谷鸟散列：使用多个有着不同的哈希函数种子的哈希表
    
    →在插入的时候，检查每个表并且从中挑出有着空闲插槽的表
    
    →如果没有表有空闲空间，则从表里逐出一个页面然后重新将其散列到一个新的位置
    

**动态哈希策略：根据需要重新分配需要存储的元素的个数**

→链式散列：对于在哈希表里的每个插槽维护一个桶链表

通过将具有相同的键的元素放到同一个桶中来解决冲突

→可扩展散列：一种将桶进行拆分来让链表无限增长的链式哈希方法，多数插槽可以指向同一个桶链，可以通过刷新桶条目（分割）来提高需要检查的位数的个数

→线性散列